<!-- TOC -->

- [获得焦点](#获得焦点)
- [画面激活](#画面激活)
- [回车或者其他键盘按键](#回车或者其他键盘按键)
- [下拉列表初始化](#下拉列表初始化)
- [数据加载事件](#数据加载事件)
- [数据验证](#数据验证)

<!-- /TOC -->
## 获得焦点
```C#
        case Sys.SAM_SetFocus:
            this.dfsComponent_OnSAM_SetFocus(sender, e);
            break;
```
## 画面激活
```C#
        public override SalNumber vrtActivate(fcURL URL)
        {
            #region Actions
            using (new SalContext(this))
            {
                if (Ifs.Fnd.ApplicationForms.Var.DataTransfer.RecCountGet() > 0)
                {
                    InitFromTransferredData();
                    Ifs.Fnd.ApplicationForms.Var.DataTransfer.Reset();
                    Sal.SendMsg(cmbName, Sys.SAM_Click, 0, 0);
                    this.cbValidRates.Checked = false;
                    return false;
                }
                SetWindowTitle();
                return base.Activate(URL);
            }
            #endregion

        }
```
## 回车或者其他键盘按键
```C#
        private void fndTextBoxFind_KeyDown(object sender, System.Windows.Forms.KeyEventArgs e)
        {
            if( e.KeyCode == Keys.Enter && !Sal.IsNull(fndTextBoxFind))
            {
                FindActivity();
            }
        }
```
## 下拉列表初始化
```C#
        case Ifs.Fnd.ApplicationForms.Const.PM_LookupInit:
            this.cmbLedger_OnPM_LookupInit(sender, e);
            break;
```
```C#
        private void cmbLedger_OnPM_LookupInit(object sender, WindowActionsEventArgs e)
        {
            #region Actions
            e.Handled = true;
            if (Sal.SendClassMessage(Ifs.Fnd.ApplicationForms.Const.PM_LookupInit, Sys.wParam, Sys.lParam)) 
            {
                Sal.ListDelete(this.cmbLedger.i_hWndSelf, 3);
                Sal.ListDelete(this.cmbLedger.i_hWndSelf, 3);
                e.Return = true;
                return;
            }
            e.Return = false;
            return;
            #endregion
        }
```
## 数据加载事件
```C#
        case Ifs.Fnd.ApplicationForms.Const.PM_DataItemPopulate:
            this.cmbAccntType_OnPM_DataItemPopulate(sender, e);
            break;
```
```C#
        private void cmbAccntType_OnPM_DataItemPopulate(object sender, WindowActionsEventArgs e)
        {
            #region Actions
            e.Handled = true;
            this.nTempFlag = 0;
            this.CheckConnect();
            e.Return = Sal.SendClassMessage(Ifs.Fnd.ApplicationForms.Const.PM_DataItemPopulate, Sys.wParam, Sys.lParam);
            return;
            #endregion
        }
```
## 数据验证
```C#
        case Ifs.Fnd.ApplicationForms.Const.PM_DataItemValidate:
            this.dfsViewName1_OnPM_DataItemValidate(sender, e);
            break;
```
```C#
        private void dfFromFileType_OnSAM_Validate(object sender, WindowActionsEventArgs e)
        {
            #region Actions
            e.Handled = true;
            using(SignatureHints hints = SignatureHints.NewContext())
            {
                hints.Add("Ext_File_Type_API.Get_Description", System.Data.ParameterDirection.Input);
                if (!(this.dfFromFileType.DbPLSQLBlock(cSessionManager.c_hSql, ":i_hWndFrame.dlgExtFileCopyFileType.dfsDescriptionFrom :=  " + cSessionManager.c_sDbPrefix + "Ext_File_Type_API.Get_Description(\r\n" +
                    ":i_hWndFrame.dlgExtFileCopyFileType.dfFromFileType)"))) 
                {
                    e.Return = Sys.VALIDATE_Cancel;
                    return;
                }
            }
            e.Return = Sys.VALIDATE_Ok;
            return;
            #endregion
        }
```